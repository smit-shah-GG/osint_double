---
phase: 01-foundation-environment
plan: 04
type: execute
---

<objective>
Implement basic agent proof-of-concept to validate the foundation.

Purpose: Prove the architecture works end-to-end with a simple but functional agent.
Output: Working SimpleAgent that can process prompts, use Gemini API, and demonstrate logging/configuration integration.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-environment/01-CONTEXT.md
@.planning/phases/01-foundation-environment/01-RESEARCH.md
@.planning/phases/01-foundation-environment/01-01-SUMMARY.md
@.planning/phases/01-foundation-environment/01-02-SUMMARY.md
@.planning/phases/01-foundation-environment/01-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create base agent class and simple agent</name>
  <files>osint_system/agents/__init__.py, osint_system/agents/base_agent.py, osint_system/agents/simple_agent.py</files>
  <action>
    Create agents package with __init__.py.

    Create base_agent.py:
    Import abc.ABC, abstractmethod, uuid, datetime, loguru.logger.
    Class BaseAgent(ABC):
      __init__(name, description=""):
        self.agent_id = str(uuid.uuid4())
        self.name = name
        self.description = description
        self.logger = logger.bind(agent_id=self.agent_id, agent_name=name)
        self.created_at = datetime.utcnow()
      @abstractmethod async def process(self, input_data: dict) -> dict: pass
      @abstractmethod def get_capabilities(self) -> list[str]: pass

    Create simple_agent.py:
    Import BaseAgent, gemini_client from llm.
    Class SimpleAgent(BaseAgent):
      __init__(): super().__init__("SimpleAgent", "Basic proof-of-concept agent")
      async def process(self, input_data: dict) -> dict:
        self.logger.info(f"Processing: {input_data.get('task', 'No task')}")
        prompt = f"As a helpful assistant, {input_data.get('task', 'say hello')}"

        try:
          tokens = gemini_client.count_tokens(prompt)
          self.logger.debug(f"Token count: {tokens}")
          response = gemini_client.generate_content(prompt)
          self.logger.success("Task completed")
          return {"status": "success", "response": response, "tokens_used": tokens}
        except Exception as e:
          self.logger.error(f"Processing failed: {e}")
          return {"status": "error", "error": str(e)}

      def get_capabilities(self) -> list[str]:
        return ["text_generation", "simple_tasks"]
  </action>
  <verify>uv run python -c "from osint_system.agents.simple_agent import SimpleAgent; import asyncio; agent = SimpleAgent(); print(agent.name)" returns SimpleAgent</verify>
  <done>Base agent class created with logging integration, SimpleAgent implemented with Gemini API</done>
</task>

<task type="auto">
  <name>Task 2: Add agent command to CLI and test</name>
  <files>osint_system/cli/main.py</files>
  <action>
    Update cli/main.py:
    Import asyncio, SimpleAgent from agents.simple_agent.

    Update existing agent command to actually run the agent:
    @app.command()
    def agent(
        name: str = typer.Option("simple", help="Agent to run"),
        task: str = typer.Option(..., prompt=True)
    ):
        """Run an agent with a specific task."""
        console.print(f"[bold green]Starting agent: {name}[/bold green]")

        if name.lower() == "simple":
            agent_instance = SimpleAgent()
            console.print(f"Agent ID: {agent_instance.agent_id}")

            # Run async process
            result = asyncio.run(agent_instance.process({"task": task}))

            if result["status"] == "success":
                console.print("[green]✓[/green] Task completed successfully")
                console.print(f"Response: {result['response'][:500]}...")
                console.print(f"Tokens used: {result['tokens_used']}")
            else:
                console.print(f"[red]✗[/red] Task failed: {result['error']}")
        else:
            console.print(f"[yellow]Unknown agent: {name}[/yellow]")

    Add @app.command() list_agents():
        """List available agents and their capabilities."""
        table = Table(title="Available Agents")
        table.add_column("Agent", style="cyan")
        table.add_column("Description")
        table.add_column("Capabilities", style="green")

        agent = SimpleAgent()
        table.add_row(
            agent.name,
            agent.description,
            ", ".join(agent.get_capabilities())
        )
        console.print(table)
  </action>
  <verify>uv run python -m osint_system.cli.main agent --name simple prompts for task and executes agent; uv run python -m osint_system.cli.main list-agents shows agent table</verify>
  <done>CLI integrated with agent execution, list command shows available agents, full end-to-end test working</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] Base agent class provides common interface
- [ ] SimpleAgent successfully processes tasks
- [ ] Logging shows agent activity with agent_id
- [ ] CLI can execute agents interactively
- [ ] Agent capabilities are discoverable
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Agent executes end-to-end successfully
- Logging provides full observability
- Configuration drives behavior
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-environment/01-04-SUMMARY.md`:

# Phase 1 Plan 4: Basic Agent Proof-of-Concept Summary

**Validated foundation with working agent implementation.**

## Accomplishments

- Created extensible base agent class with common interface
- Implemented SimpleAgent with Gemini API integration
- Integrated agents into CLI for interactive execution
- Proved end-to-end functionality of the foundation

## Files Created/Modified

- `osint_system/agents/base_agent.py` - Abstract base class for all agents
- `osint_system/agents/simple_agent.py` - Basic proof-of-concept agent
- `osint_system/cli/main.py` - Added agent execution and listing

## Decisions Made

- Abstract base class pattern for agent extensibility
- Async process method for future scalability
- Agent discovery through capabilities method

## Issues Encountered

None - foundation validated successfully.

## Phase 1 Complete

The foundation is now established with:
- Fast package management (uv)
- Production logging (loguru)
- Configuration management (Pydantic)
- Interactive CLI (Typer)
- Gemini API integration with rate limiting
- Working agent proof-of-concept

Ready to proceed to Phase 2 (Data Sources & Ingestion).
</output>